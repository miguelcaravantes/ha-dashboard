---
phase: 05-ui-infrastructure
plan: 03
type: execute
wave: 2
depends_on: [05-01]
files_modified:
  [
    components.json,
    src/lib/utils.ts,
    src/components/ui/button.tsx,
    src/components/ui/card.tsx,
    src/components/ui/dialog.tsx,
    src/components/ui/switch.tsx,
    src/index.css,
  ]
autonomous: true
must_haves:
  truths:
    - "shadcn/ui is initialized with standard Slate/Zinc palette"
    - "Core components (Button, Card, Dialog, Switch) are installed"
    - "Component registry is configured to src/components"
  artifacts:
    - path: "components.json"
      provides: "shadcn/ui configuration"
    - path: "src/lib/utils.ts"
      provides: "Tailwind merge and clsx utility"
---

<objective>
Initialize the shadcn/ui component registry and install the core set of components required for the migration. Ensure the setup is compatible with Tailwind v4 and the existing project structure.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-ui-infrastructure/05-CONTEXT.md
@.planning/phases/05-ui-infrastructure/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Shadcn/UI</name>
  <files>components.json, src/lib/utils.ts</files>
  <action>
    1. Run `npx shadcn@latest init -y` (using the -y flag for default configuration).
    2. Adjust `components.json` if necessary to match project structure (src/components, src/lib/utils).
  </action>
  <verify>
    - `components.json` exists.
    - `src/lib/utils.ts` (with `cn` function) exists.
  </verify>
  <done>Shadcn/UI is initialized.</done>
</task>

<task type="auto">
  <name>Task 2: Install Core Components</name>
  <files>src/components/ui/*.tsx</files>
  <action>
    Run `npx shadcn@latest add button card dialog switch` to install the initial component set.
  </action>
  <verify>
    - `src/components/ui/button.tsx` exists.
    - `src/components/ui/card.tsx` exists.
    - `src/components/ui/dialog.tsx` exists.
    - `src/components/ui/switch.tsx` exists.
  </verify>
  <done>Core shadcn components are installed.</done>
</task>

<task type="auto">
  <name>Task 3: Configure Tailwind v4 Theme for Shadcn</name>
  <files>src/index.css</files>
  <action>
    Ensure `src/index.css` has the required `@theme` variables for shadcn (border, input, ring, background, foreground, primary, etc.) using the Slate/Zinc palette. These should be defined within the `@theme` block.
  </action>
  <verify>
    - `src/index.css` contains shadcn-compatible theme variables.
  </verify>
  <done>Tailwind v4 is configured with shadcn theme variables.</done>
</task>

</tasks>

<verification>
1. Verify `components.json` points to the correct directories.
2. Check `src/components/ui/button.tsx` and ensure it imports `cn` from the correct path.
3. Render a `Button` in a test page or `App.tsx` and verify it displays with shadcn styling.
</verification>

<success_criteria>

- Shadcn CLI is configured.
- Core components are available in the project.
- CSS variables for shadcn are defined in the Tailwind v4 theme.
  </success_criteria>

<output>
After completion, create `.planning/phases/05-ui-infrastructure/05-03-SUMMARY.md`
</output>
