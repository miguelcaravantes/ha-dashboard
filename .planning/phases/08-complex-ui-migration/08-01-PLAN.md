---
phase: 08-complex-ui-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  [
    "src/components/ui/adaptive-dialog.tsx",
    "src/components/ui/slider.tsx",
    "package.json",
  ]
autonomous: true
must_haves:
  truths:
    - "Mobile users experience a bottom sheet (Drawer)"
    - "Desktop users experience a centered modal (Dialog)"
    - "Sliders are touch-optimized with large targets"
  artifacts:
    - path: "src/components/ui/adaptive-dialog.tsx"
      provides: "Unified API for responsive modal interactions"
    - path: "src/components/ui/slider.tsx"
      provides: "Touch-friendly range input"
  key_links:
    - from: "src/components/ui/adaptive-dialog.tsx"
      to: "src/features/LightDetail/LightDetail.tsx"
      via: "Import"
---

<objective>
Establish the infrastructure for complex UI interactions, specifically Adaptive Dialogs (Sheet on mobile, Dialog on desktop) and touch-optimized Sliders.

Purpose: Provide the foundational components required for the detailed entity views (Lights, Fans, Climate).
Output: Reusable `AdaptiveDialog` and customized `Slider` components.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/08-complex-ui-migration/08-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Dependencies</name>
  <files>package.json</files>
  <action>
    - Install shadcn components: `dialog`, `drawer` (vaul), `slider`, `tabs`.
    - Verify installation.
  </action>
  <verify>Run `npx shadcn-ui@latest add dialog drawer slider tabs` (or check if already present).</verify>
  <done>Dependencies installed.</done>
</task>

<task type="auto">
  <name>Task 2: Create Adaptive Dialog Component</name>
  <files>src/components/ui/adaptive-dialog.tsx</files>
  <action>
    - Create a component that renders `Drawer` (Sheet) on mobile (use `useMediaQuery` hook) and `Dialog` on desktop.
    - Expose a unified API (`open`, `onOpenChange`, `trigger`, `content`).
    - Ensure styling matches the "Blur Backdrop" decision.
  </action>
  <verify>Component compiles and exports `AdaptiveDialog`, `AdaptiveDialogTrigger`, `AdaptiveDialogContent`, etc.</verify>
  <done>AdaptiveDialog component created.</done>
</task>

<task type="auto">
  <name>Task 3: Customize Slider Component</name>
  <files>src/components/ui/slider.tsx</files>
  <action>
    - Ensure the Slider component has "Thick Touch Target" styles (increase thumb size or touch area).
    - Ensure it supports "Live Update" visualization (fill bar).
  </action>
  <verify>Inspect `slider.tsx` styles.</verify>
  <done>Slider component optimized for touch.</done>
</task>

</tasks>

<verification>
Create a temporary test page or story to verify:
1. Dialog opens as modal on desktop.
2. Dialog opens as drawer on mobile view (resize browser).
3. Slider is easy to grab and moves smoothly.
</verification>

<success_criteria>
Core interactive components (AdaptiveDialog, Slider) are ready for use in feature migrations.
</success_criteria>

<output>
After completion, create `.planning/phases/08-complex-ui-migration/08-01-SUMMARY.md`
</output>
