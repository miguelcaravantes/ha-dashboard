---
phase: 08-complex-ui-migration
plan: 03
type: execute
wave: 1
depends_on: ["08-complex-ui-migration/01"]
files_modified: ["src/features/FanDetail.tsx"]
autonomous: true
must_haves:
  truths:
    - "Active fans animate (spin)"
    - "Controls use the Drill-down strategy"
    - "Numeric displays are large and clean"
  artifacts:
    - path: "src/features/FanDetail.tsx"
      provides: "Detailed fan control UI"
  key_links:
    - from: "src/features/FanDetail.tsx"
      to: "src/components/ui/adaptive-dialog.tsx"
      via: "Implementation"
---

<objective>
Refactor the Fan (and Climate if applicable) Detail views to use Adaptive Dialogs and implement animated states.

Purpose: complete the complex entity migration with high-fidelity interactions.
Output: Refactored `FanDetail.tsx`.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/08-complex-ui-migration/08-CONTEXT.md
@src/features/FanDetail.tsx
@src/components/ui/adaptive-dialog.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate FanDetail to AdaptiveDialog</name>
  <files>src/features/FanDetail.tsx</files>
  <action>
    - Replace MUI components with `AdaptiveDialog`.
    - Implement the "Drill-down" layout.
  </action>
  <verify>FanDetail opens in new dialog.</verify>
  <done>FanDetail migrated to AdaptiveDialog.</done>
</task>

<task type="auto">
  <name>Task 2: Implement Fan Controls & Animation</name>
  <files>src/features/FanDetail.tsx</files>
  <action>
    - Use `Slider` for speed control (percentage steps).
    - Add "Animated State": Fan icon/graphic spins when state is 'on'.
    - Use Tailwind for animation classes (`animate-spin` or custom).
  </action>
  <verify>Fan icon spins when on. Speed slider works.</verify>
  <done>Fan controls and animation implemented.</done>
</task>

<task type="auto">
  <name>Task 3: Refactor Climate Detail (if exists)</name>
  <files>src/features/ClimateDetail.tsx</files>
  <action>
    - Check if ClimateDetail exists or needs creating.
    - If it exists, apply similar refactoring (AdaptiveDialog, Slider for temp).
    - Ensure large numeric display for temperature.
  </action>
  <verify>Climate detail (if applicable) matches new standards.</verify>
  <done>Climate detail refactored (conditional).</done>
</task>

</tasks>

<verification>
1. Open Fan Detail.
2. Verify animation works when fan is on.
3. Verify speed control.
4. Verify responsive layout.
</verification>

<success_criteria>
FanDetail is fully migrated, animated, and uses shared infrastructure.
</success_criteria>

<output>
After completion, create `.planning/phases/08-complex-ui-migration/08-03-SUMMARY.md`
</output>
