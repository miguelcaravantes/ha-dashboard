---
phase: 02-core-modernization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [package.json, src/index.jsx, src/App.jsx]
autonomous: true
must_haves:
  truths:
    - 'Application runs on React 19 runtime'
    - 'MUI components are upgraded to v7'
    - 'Development server starts without errors'
  artifacts:
    - path: 'package.json'
      provides: 'Updated dependencies'
  key_links: []
---

<objective>
Upgrade the core application foundation to React 19 and MUI v7.
Purpose: Leverage the latest features and performance improvements of React and Material UI, and prepare for the new theming engine.
Output: Updated package.json and verified render with new major versions.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@package.json
@src/index.jsx
@src/App.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Upgrade core dependencies</name>
  <files>package.json</files>
  <action>
    Upgrade react and react-dom to ^19.0.0.
    Upgrade @mui/material, @mui/system, @mui/icons-material (if used) to latest v7.
    Upgrade @emotion/react and @emotion/styled to latest compatible versions.
    Run `npm install` to update the lockfile.
  </action>
  <verify>npm list react @mui/material</verify>
  <done>Dependencies are updated to target versions in package.json and node_modules.</done>
</task>

<task type="auto">
  <name>Task 2: React 19 and MUI v7 Compatibility Fixes</name>
  <files>src/index.jsx, src/App.jsx</files>
  <action>
    Update `src/index.jsx` to ensure React 19 compatibility (e.g., checking `createRoot` usage).
    Update `src/App.jsx` if any MUI v7 breaking changes affect the root theme setup (e.g., ThemeProvider import or GlobalStyles).
    Ensure the application still renders.
  </action>
  <verify>npm run build</verify>
  <done>Application builds successfully without type or runtime errors related to major upgrades.</done>
</task>

</tasks>

<verification>
Run `npm run dev` and verify the application renders in the browser (Home Assistant panel context if possible, or local mock).
Check console for any React 19 deprecation warnings.
</verification>

<success_criteria>

- package.json shows react ^19 and @mui/material ^7.
- `npm run build` completes successfully.
  </success_criteria>

<output>
After completion, create `.planning/phases/02-core-modernization/02-01-SUMMARY.md`
</output>
